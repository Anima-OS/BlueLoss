import { ipcRenderer } from 'electron'
import _ from 'lodash'

/**
* If you need to use the state & actions and return data, you need to use (value) => (state, actions)
* https://github.com/hyperapp/hyperapp#actions
*/
export default addNewDevice(newDevice) -> state ->
  if _.find(state.devicesToSearchFor, {deviceId: newDevice.deviceId}): return
  ipcRenderer.send('renderer:device-added-in-ui', newDevice)
  ({devicesToSearchFor: [...state.devicesToSearchFor, ...[newDevice]]})
