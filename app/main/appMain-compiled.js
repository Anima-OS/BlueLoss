!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=48)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.modifyADeviceInDevicesToSearchFor=t.logStartupSettings=t.removeNewDeviceToSearchFor=t.addNewDeviceToSearchFor=t.getSettings=t.updateSetting=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=g(n(4)),i=n(3),s=g(n(16)),a=g(n(40)),u=g(n(39)),c=n(2),l=(n(6),n(38)),d=n(37),f=n(35),p=n(1);function g(e){return e&&e.__esModule?e:{default:e}}const h=r.default.join(i.app.getPath("userData"),"lanlost-settings.json"),v=new u.default(h),b=(0,a.default)(v);b.defaults(l.defaultSettings).write();const w=(0,s.default)(b.getState()),m=o({},(0,c.omitGawkFromSettings)(w));function y(){return w}function S(e,t){w[e]=t,b.set(e,t).write(),function(e,t){process.nextTick(function(){return p.logger.debug(`Updated Setting: updated '${e}' with: ${t}`),p.logger.debug("Settings Are Now: ",(0,c.omitGawkFromSettings)(y()))})}(e,t)}function _(e){return w.devicesToSearchFor[e]}function O(e,t,n){return o({},w.devicesToSearchFor,{[e]:o({},w.devicesToSearchFor[e],{[t]:n})})}(0,d.initSettingsObservers)(w),(0,f.initSettingsIPClisteners)(),function(){for(let e=w.devicesToSearchFor,t=0,n=Object.keys(e),o=n.length;t<o;t++){const o=n[t],{macAddress:r}=e[o];S("devicesToSearchFor",O(r,"lastSeen",(0,c.tenYearsFromNow)()))}}(),t.updateSetting=S,t.getSettings=y,t.addNewDeviceToSearchFor=function(e){const{macAddress:t}=e;_(t)||S("devicesToSearchFor",o({},w.devicesToSearchFor,{[t]:e}))},t.removeNewDeviceToSearchFor=function(e){const{macAddress:t}=e;var n;_(t)&&S("devicesToSearchFor",(n=t,(()=>{const e={};for(let t=w.devicesToSearchFor,o=0,r=Object.keys(t),i=r.length;o<i;o++){const i=r[o],s=t[i];i!==n&&(e[i]=s)}return e})()))},t.logStartupSettings=function(){return p.logger.debug("Settings Loaded At LANLost Startup:",m)},t.modifyADeviceInDevicesToSearchFor=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeRollbarLogging=t.addRollbarLogging=t.logger=void 0;var o,r=n(3),i=n(10),s=(o=i)&&o.__esModule?o:{default:o},a=n(45),u=n(42),c=n(0);const l={level:"error",handleExceptions:!0,humanReadableUnhandledException:!0},d=new s.default.Logger({level:"debug",exitOnError:!1});function f(){a.rollbarLogger.configure({enabled:!0}),d.add(a.CustomRollbarTransport,l)}(0,c.getSettings)().reportErrors&&f(),d.add(u.UserDebugLoggerTransport,{level:"debug",handleExceptions:!0,humanReadableUnhandledException:!0}),r.ipcMain.on("settings-renderer:error-sent",function(e,t){d.error("settings-renderer:error-sent",t)}),r.ipcMain.on("debug-window-renderer:error-sent",function(e,t){d.error("debug-window-renderer:error-sent",t)}),t.logger=d,t.addRollbarLogging=f,t.removeRollbarLogging=function(){a.rollbarLogger.configure({enabled:!1}),d.remove(a.CustomRollbarTransport)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProperAppVersion=t.capitalizeFirstLetter=t.tenYearsFromNow=t.range=t.curryRight=t.curry=t.pipe=t.isObject=t.noop=t.omitInheritedProperties=t.recursiveOmitFilterAndInheritedPropertiesFromObj=t.omitGawkFromSettings=void 0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=n(7),s=(o=i)&&o.__esModule?o:{default:o};const a=n(43).version;function u(e,t){return c(e,t)}function c(e,t=[]){return Object.getOwnPropertyNames(e).reduce(function(n,o){for(let e=0,r=t.length;e<r;e++){if(t[e]===o)return n}return l(e[o])?r({},n,{[o]:c(e[o],t)}):r({},n,{[o]:e[o]})},{})}function l(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||(t=e,"function"==typeof t));var t}t.omitGawkFromSettings=function(e){return u(e,["__gawk__"])},t.recursiveOmitFilterAndInheritedPropertiesFromObj=u,t.omitInheritedProperties=c,t.noop=function(){},t.isObject=l,t.pipe=function(...e){return function(t){return e.reduce(function(e,t){return t(e)},t)}},t.curry=function(e){return function(...t){return function(...n){return e(...void 0===t?[]:t,...void 0===n?[]:n)}}},t.curryRight=function(e){return function(...t){return function(...n){return e(...void 0===n?[]:n,...void 0===t?[]:t)}}},t.range=function(e,t){return Array.from({length:t-e+1},function(t,n){return n+e})},t.tenYearsFromNow=function(){return Date.now()+(0,s.default)("10 years")},t.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.getProperAppVersion=function(){return a}},function(e,t){e.exports=require("electron")},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.settingsWindow=t.toggleSettingsWindow=t.showSettingsWindow=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=l(n(4)),i=l(n(8)),s=n(3),a=n(0),u=n(1),c=n(2);function l(e){return e&&e.__esModule?e:{default:e}}const d=r.default.join(__dirname,"..","settingsWindow","renderer"),f=r.default.join(d,"assets","icons"),p=i.default.format({protocol:"file",slashes:!0,pathname:r.default.resolve(d,"settingsWindow.html")}),g=o({width:786,height:616,title:"LANLost",autoHideMenuBar:!0,resizable:!1,fullscreenable:!1,fullscreen:!1,frame:!1,show:!1,icon:m(),webPreferences:{textAreasAreResizable:!1,devTools:!1}},w()),h=null;let v=null;function b(){var e;if(v)return v.show();global.settingsWindowRendererInitialSettings=(0,c.recursiveOmitFilterAndInheritedPropertiesFromObj)((0,a.getSettings)(),["__gawk__","canSearchForMacVendorInfo","dateLastCheckedForOUIupdate","firstRun"]),t.settingsWindow=v=new s.BrowserWindow(o({},g,w(),{icon:m()})),v.loadURL(p),v.setMenu(h),null==(e=s.app.dock)||e.show(),v.once("close",function(){(0,a.updateSetting)("settingsWindowPosition",v.getBounds())}),v.once("ready-to-show",function(){v.show()}),v.once("closed",function(){var e;t.settingsWindow=v=null,null==(e=s.app.dock)||e.hide()}),v.webContents.once("crashed",function(e){u.logger.error("settingsWindow.webContents crashed",e)}),v.once("unresponsive",function(e){u.logger.error("settingsWindow unresponsive",e)})}function w(){const e="function"!=typeof a.getSettings?void 0:(0,a.getSettings)().settingsWindowPosition;return e?{x:e.x,y:e.y}:{}}function m(){let e="function"!=typeof a.getSettings?void 0:(0,a.getSettings)().trayIconColor;e||(e="blue");const t=`LANLost-${(0,c.capitalizeFirstLetter)(e)}-512x512.png`;return r.default.join(f,t)}t.showSettingsWindow=b,t.toggleSettingsWindow=function(){v?v.isVisible()&&v.close():b()},t.settingsWindow=v},function(e,t,n){"use strict"},function(e,t){e.exports=require("ms")},function(e,t){e.exports=require("url")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("winston")},function(e,t){e.exports=require("got")},function(e,t){e.exports=require("fs-jetpack")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateOUIfileDataInMemory=t.getOUIfileData=t.loadOUIfileIfNotLoaded=void 0;var o=c(n(4)),r=n(3),i=c(n(12)),s=n(0),a=n(1),u=n(2);function c(e){return e&&e.__esModule?e:{default:e}}const l="lanlost-mac-vendor-prefixes.json",d=o.default.join(r.app.getPath("userData"),l),f=o.default.resolve(__dirname,"..","oui",l);let p=null;const g=(0,u.curryRight)(i.default.readAsync)("json");function h(e){return"file"===e?d:f}function v(e){return p=e}t.loadOUIfileIfNotLoaded=function(){return p?Promise.resolve():i.default.existsAsync(d).then(h).then(g).then(v).catch(function(e){a.logger.error("Couldn't load OUI file",e),(0,s.updateSetting)("canSearchForMacVendorInfo",!1)})},t.getOUIfileData=function(){return p},t.updateOUIfileDataInMemory=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disableRunOnStartup=t.enableRunOnStartup=void 0;var o,r=n(36),i=(o=r)&&o.__esModule?o:{default:o},s=n(1);const a=new i.default({name:"LANLost",isHidden:!0});t.enableRunOnStartup=function(e){a.enable().catch(function(e){s.logger.error("enableRunOnStartup error: ",e)})},t.disableRunOnStartup=function(){a.disable().catch(function(e){s.logger.error("disableRunOnStartup error: ",e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateTrayMenu=t.createContextMenu=t.changeTrayIcon=t.initTrayMenu=void 0;var o,r=n(4),i=(o=r)&&o.__esModule?o:{default:o},s=n(3),a=n(5),u=n(0);let c=null;const l=i.default.resolve(__dirname,"..","..","resources","icons");function d(){return s.Menu.buildFromTemplate([{label:"Open LANLost Settings",click:a.showSettingsWindow},{label:`${(0,u.getSettings)().lanLostEnabled?"Disable":"Enable"} LANLost`,click:p},{label:"Quit LANLost",click:s.app.quit}])}function f(e){return i.default.join(l,e,`LANLost-${e}-128x128.png`)}function p(){(0,u.updateSetting)("lanLostEnabled",!(0,u.getSettings)().lanLostEnabled)}t.initTrayMenu=function(){(c=new s.Tray(f((0,u.getSettings)().trayIconColor))).setContextMenu(d()),c.setToolTip("LANLost"),c.on("double-click",a.toggleSettingsWindow)},t.changeTrayIcon=function(e){c.setImage(f(e))},t.createContextMenu=d,t.updateTrayMenu=function(){c.setContextMenu(d())}},function(e,t){e.exports=require("gawk")},function(e,t){e.exports=require("electron-positioner")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showUpdateNotification=void 0;var o=c(n(4)),r=c(n(8)),i=n(3),s=c(n(17)),a=n(1),u=n(0);function c(e){return e&&e.__esModule?e:{default:e}}let l=null;const d=null,f=r.default.format({protocol:"file",slashes:!0,pathname:o.default.resolve(__dirname,"..","appUpdates","updateNotification.html")}),p=o.default.join(__dirname,"..","appUpdates","LANLost-Blue-512x512.png");i.ipcMain.on("renderer:open-update-web-page",function(){null==l||"function"!=typeof l.close||l.close(),i.shell.openExternal("https://github.com/Darkle/LANLost/releases")}),i.ipcMain.on("renderer:skip-update-version",function(e,t){null==l||"function"!=typeof l.close||l.close(),(0,u.updateSetting)("skipUpdateVersion",t)}),t.showUpdateNotification=function(e){(l=new i.BrowserWindow({width:function(){switch(process.platform){case"darwin":return 420;case"linux":return 415;case"win32":return 435}}(),height:function(){switch(process.platform){case"darwin":return 140;case"linux":return 120;case"win32":return 160}}(),resizable:!1,alwaysOnTop:!0,maximizable:!1,fullscreenable:!1,acceptFirstMouse:!0,titleBarStyle:"hidden",autoHideMenuBar:!0,show:!1,icon:p,title:"An Update Is Available For LANLost"})).setMenu(d),new s.default(l).move("bottomRight"),l.loadURL(f),l.once("ready-to-show",function(){l.show()}),l.webContents.on("dom-ready",function(){l.webContents.send("main-process:sent-latest-update-version",e)}),l.on("closed",function(){l=null}),l.webContents.once("crashed",function(e){a.logger.error("notificationWindow.webContents crashed",e)}),l.once("unresponsive",function(e){a.logger.error("notificationWindow unresponsive",e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkForUpdate=void 0;var o=c(n(7)),r=c(n(11)),i=n(0),s=n(1),a=n(18),u=n(2);function c(e){return e&&e.__esModule?e:{default:e}}const l=(0,o.default)("1 day"),d=(0,o.default)("2 weeks"),f={headers:{"user-agent":`Mozilla/5.0 AppleWebKit (KHTML, like Gecko) Chrome/${process.versions.chrome} Electron/${process.versions.electron} Safari LANLost App https://github.com/Darkle/LANLost`},json:!0},p="https://raw.githubusercontent.com/Darkle/LANLost/master/updateInfo.json";function g(){Date.now()>(0,i.getSettings)().dateLastCheckedForAppUpdate+d||((0,i.updateSetting)("dateLastCheckedForAppUpdate",Date.now()),(0,r.default)(p,f).then(function({body:{latestVersion:e}}){(function(e){return(0,u.getProperAppVersion)()!==e&&e!==(0,i.getSettings)().skipUpdateVersion})(e)&&(0,a.showUpdateNotification)(e)}).catch(function(e){s.logger.error("error downloading update info",e)}),setTimeout(g,l))}t.checkForUpdate=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleOUIfileUpdate=void 0;var o=f(n(4)),r=n(3),i=f(n(7)),s=f(n(11)),a=f(n(12)),u=n(0),c=n(1),l=n(2),d=n(13);function f(e){return e&&e.__esModule?e:{default:e}}const p=o.default.join(r.app.getPath("userData"),"lanlost-mac-vendor-prefixes.json"),g=(0,i.default)("2 weeks"),h=(0,i.default)("2 days"),v=(0,i.default)("3 minutes"),b="https://linuxnet.ca/ieee/oui/nmap-mac-prefixes",w=`Failed getting nmap-mac-prefixes file from ${b}`,m={headers:{"user-agent":`Mozilla/5.0 AppleWebKit (KHTML, like Gecko) Chrome/${process.versions.chrome} Electron/${process.versions.electron} Safari LANLost App https://github.com/Darkle/LANLost`}},y=(0,l.pipe)(function(e){var t;if(!(null==e?void 0:null==(t=e.body)?void 0:"function"!=typeof t.split?void 0:t.split(/\r\n?|\n/).length))throw new Error("The response.body was not valid for oui file download");return e.body},function(e){const t=e.split(/\r\n?|\n/),n={};for(let e=0,o=t.length;e<o;e++){const o=t[e];n[o.slice(0,6)]=o.slice(6).trim()}return n}),S=(0,l.curry)(a.default.writeAsync)(p);function _(){return Date.now()-(0,u.getSettings)().dateLastCheckedForOUIupdate>g&&(0,u.getSettings)().enableOUIfileUpdate?((0,u.updateSetting)("dateLastCheckedForOUIupdate",Date.now()),(0,s.default)(b,m).then(y).then(d.updateOUIfileDataInMemory).then(S).catch(function(e){c.logger.error(w,e)}),O(h)):O(h)}function O(e=v){setTimeout(_,e)}t.scheduleOUIfileUpdate=O},function(e,t){e.exports=require("lock-system")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lockTheSystem=void 0;var o,r=n(21),i=(o=r)&&o.__esModule?o:{default:o},s=n(1),a=n(0);t.lockTheSystem=function(){if((0,a.getSettings)().lanLostEnabled)try{(0,i.default)()}catch(e){s.logger.error("Error occured trying locking the system : ",e)}}},function(e,t){e.exports=require("is-empty")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleScanResults=void 0;var o=l(n(23)),r=l(n(7)),i=(n(6),n(1)),s=n(5),a=n(0),u=n(22),c=n(2);function l(e){return e&&e.__esModule?e:{default:e}}t.handleScanResults=function(e=[]){var t;i.logger.debug("scan returned these active devices: \n",e);const{devicesToSearchFor:n}=(0,a.getSettings)();if(null==s.settingsWindow||null==(t=s.settingsWindow.webContents)||t.send("mainprocess:update-of-network-devices-can-see",{devicesCanSee:e}),!(0,o.default)(n)){for(let t=0,o=e.length;t<o;t++){const{macAddress:o}=e[t];n[o]&&(0,a.updateSetting)("devicesToSearchFor",(0,a.modifyADeviceInDevicesToSearchFor)(o,"lastSeen",Date.now()))}for(let e=0,t=Object.keys(n),o=t.length;e<o;e++){const o=t[e],{lastSeen:i,macAddress:s}=n[o];l=i,Date.now()>l+(0,r.default)(`${(0,a.getSettings)().timeToLock} mins`)&&((0,u.lockTheSystem)(),(0,a.updateSetting)("devicesToSearchFor",(0,a.modifyADeviceInDevicesToSearchFor)(s,"lastSeen",(0,c.tenYearsFromNow)())))}var l}}},function(e,t){e.exports=require("ono")},function(e,t){e.exports=require("bluebird")},function(e,t){e.exports=require("is-ip")},function(e,t){e.exports=require("internal-ip")},function(e,t){e.exports=require("node-arp")},function(e,t){e.exports=require("default-gateway")},function(e,t){e.exports=require("net")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scanNetwork=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(31),i=w(n(9)),s=w(n(30)),a=w(n(7)),u=w(n(29)),c=w(n(28)),l=w(n(27)),d=w(n(26)),f=w(n(25)),p=n(0),g=n(13),h=n(24),v=n(1),b=n(2);n(6);function w(e){return e&&e.__esModule?e:{default:e}}const m=i.default.promisify(u.default.getMAC),y=(0,a.default)("30 seconds");function S(){if(!(0,p.getSettings)().lanLostEnabled)return A();v.logger.debug("new scan started"),d.default.resolve((0,g.loadOUIfileIfNotLoaded)()).then(O).then(j).map(_).filter(T).then(h.handleScanResults).catch(v.logger.error).finally(A)}function _(e){return function(e){return new d.default(function(t,n){const o=new r.Socket;o.setTimeout((0,p.getSettings)().hostScanTimeout),o.connect({host:e,port:1}),o.unref(),o.on("error",function(o){"ECONNREFUSED"===o.code?t(e):n(o)}),o.on("timeout",function(){n((0,f.default)({socketTimeout:!0},`socket timeout for ${e}`)),o.destroy()}),o.on("connect",function(){t(e),o.destroy()})})}(e).then(L).then(k).then(M).catch(x)}function O(){return s.default.v4().then(F)}function L(e){return{ipAddress:e,lastSeen:Date.now()}}function k(e){return m(e.ipAddress).then(function(t){return o({},e,{macAddress:t})})}function M(e){return(0,p.getSettings)().canSearchForMacVendorInfo?d.default.resolve(o({},e,{vendorName:function(e){return(0,g.getOUIfileData)(e)[function(e){return e.macAddress.replace(/[.:-]/g,"").substring(0,6).toUpperCase()}(e)]}(e)})):d.default.resolve(e)}function j(e){const{hostsScanRangeStart:t,hostsScanRangeEnd:n}=(0,p.getSettings)(),o=e.slice(0,e.lastIndexOf("."));return c.default.v4().then(function(r){return(0,b.range)(t,n).map(function(e){return`${o}.${e}`}).filter(function(t){return t!==e&&t!==r})})}function x(e){null!=e&&e.socketTimeout||v.logger.debug(e)}function A(){setTimeout(S,y)}function T(e){return(0,b.isObject)(e)&&e.macAddress}function F({gateway:e}){return v.logger.debug(`defaultGatewayIP ip: ${e}`),new d.default(function(t,n){return l.default.v4(e)?t(e):n(new Error(`Didn't get valid gateway IP address: ${e}`))})}t.scanNetwork=S},function(e,t){e.exports=require("electron-reload")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setUpDev=void 0;var o,r=n(4),i=(o=r)&&o.__esModule?o:{default:o};n(3),n(5);i.default.resolve(__dirname,"..","..","node_modules","devtron");const s=i.default.resolve(__dirname,"..","settingsWindow","renderer"),a=(i.default.join(s,"settingsWindow.html"),i.default.join(s,"assets","styles","css","settingsWindowCss-compiled.css"),i.default.join(s,"settingsWindowRendererMain-compiled.js"),i.default.join(s,"assets","icons","*.*"),i.default.resolve(__dirname,"..","debugWindow","renderer"));i.default.join(a,"debugWindow.html"),i.default.join(a,"debugWindowRendererMain-compiled.js"),i.default.join(__dirname,"..","appUpdates","updateNotification.html");t.setUpDev=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initSettingsIPClisteners=void 0;var o=n(3),r=(n(6),n(0));t.initSettingsIPClisteners=function(){o.ipcMain.on("renderer:setting-updated-in-ui",function(e,t,n){(0,r.updateSetting)(t,n)}),o.ipcMain.on("renderer:device-added-in-ui",function(e,t){(0,r.addNewDeviceToSearchFor)(t)}),o.ipcMain.on("renderer:device-removed-in-ui",function(e,t){(0,r.removeNewDeviceToSearchFor)(t)})}},function(e,t){e.exports=require("auto-launch")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initSettingsObservers=void 0;var o,r=n(16),i=(o=r)&&o.__esModule?o:{default:o},s=n(5),a=n(1),u=n(15),c=n(14);t.initSettingsObservers=function(e){i.default.watch(e,["lanLostEnabled"],function(e){var t;null==s.settingsWindow||null==(t=s.settingsWindow.webContents)||t.send("mainprocess:setting-updated-in-main",{lanLostEnabled:e}),(0,u.updateTrayMenu)()}),i.default.watch(e,["reportErrors"],function(e){e?(0,a.addRollbarLogging)():(0,a.removeRollbarLogging)()}),i.default.watch(e,["runOnStartup"],function(e){e?(0,c.enableRunOnStartup)():(0,c.disableRunOnStartup)()}),i.default.watch(e,["trayIconColor"],u.changeTrayIcon)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSettings=void 0;n(6);const o={lanLostEnabled:!0,runOnStartup:!0,trayIconColor:"blue",devicesToSearchFor:{},timeToLock:2,reportErrors:!0,hostsScanRangeStart:2,hostsScanRangeEnd:254,hostScanTimeout:3e3,enableOUIfileUpdate:!0,firstRun:!0,canSearchForMacVendorInfo:!0,dateLastCheckedForOUIupdate:Date.now(),settingsWindowPosition:null,dateLastCheckedForAppUpdate:Date.now(),skipUpdateVersion:"0.2.3"};t.defaultSettings=o},function(e,t){e.exports=require("lowdb/adapters/FileSync")},function(e,t){e.exports=require("lowdb")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeDebugWindow=t.showDebugWindow=t.debugWindow=void 0;var o=l(n(4)),r=l(n(8)),i=n(3),s=n(1),a=n(0),u=n(5),c=n(2);function l(e){return e&&e.__esModule?e:{default:e}}const d=r.default.format({protocol:"file",slashes:!0,pathname:o.default.resolve(__dirname,"..","debugWindow","renderer","debugWindow.html")}),f={width:786,height:616,title:"LANLost",autoHideMenuBar:!0,resizable:!1,fullscreenable:!1,fullscreen:!1,show:!1,webPreferences:{textAreasAreResizable:!0,devTools:!1}},p=null;let g=null;function h(){if(g)return g.show();t.debugWindow=g=new i.BrowserWindow(f),g.loadURL(d),g.setMenu(p),g.once("ready-to-show",function(){g.show()}),g.once("close",function(){var e;null==u.settingsWindow||null==(e=u.settingsWindow.webContents)||e.send("mainprocess:setting-updated-in-main",{userDebug:!1})}),g.once("closed",function(){t.debugWindow=g=null}),g.webContents.once("dom-ready",function(){(0,a.logStartupSettings)(),s.logger.debug("Current LANLost settings:",(0,c.omitGawkFromSettings)((0,a.getSettings)()))}),g.webContents.once("crashed",function(e){s.logger.error("debugWindow.webContents crashed",e)}),g.once("unresponsive",function(e){s.logger.error("debugWindow unresponsive",e)})}i.ipcMain.on("renderer:user-debug-toggled",function(e,t){t?h():null==g||"function"!=typeof g.close||g.close()}),t.debugWindow=g,t.showDebugWindow=h,t.closeDebugWindow=function(){g.close()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserDebugLoggerTransport=void 0;var o=a(n(9)),r=a(n(10)),i=n(41),s=n(2);function a(e){return e&&e.__esModule?e:{default:e}}const u=r.default.transports.CustomLogger=function(e){Object.assign(this,e)};o.default.inherits(u,r.default.Transport),u.prototype.log=function(e,t="",n={},o){var r;null==i.debugWindow||null==(r=i.debugWindow.webContents)||"function"!=typeof r.send||r.send("mainprocess:debug-info-sent",{level:e,msg:t,meta:(0,s.recursiveOmitFilterAndInheritedPropertiesFromObj)(n,["__stackCleaned__"])}),o(null,!0)},t.UserDebugLoggerTransport=u},function(e){e.exports={name:"lanlost",productName:"LANLost",version:"0.2.3",description:"A desktop app that locks your computer when a device is lost on your local network",main:"app/main/appMain-compiled.js",scripts:{webpackWatch:"cross-env NODE_ENV=development parallel-webpack --watch --max-retries=1 --no-stats",electronWatch:"cross-env NODE_ENV=development nodemon app/main/appMain-compiled.js --config nodemon.json",styleWatch:"cross-env NODE_ENV=development stylus -w app/settingsWindow/renderer/assets/styles/stylus/index.styl -o app/settingsWindow/renderer/assets/styles/css/settingsWindowCss-compiled.css",lintWatch:"cross-env NODE_ENV=development esw -w --ext .lsc -c .eslintrc.json --color --clear",debug:"cross-env NODE_ENV=development,nodeDebug=true parallel-webpack && sleepms 3000 && electron --inspect-brk app/main/appMain-compiled.js",start:"cross-env NODE_ENV=production electron app/main/appMain-compiled.js",task:"cross-env NODE_ENV=development node devTasks/tasks.js","snyk-protect":"snyk protect",prepare:"npm run snyk-protect"},repository:"https://github.com/Darkle/LANLost.git",author:"Darkle <coop.coding@gmail.com>",license:"MIT",dependencies:{"@hyperapp/logger":"^0.5.0","add-line-numbers":"^1.0.1","auto-launch":"^5.0.5",bluebird:"^3.5.1","default-gateway":"^2.7.0",dotenv:"^5.0.1","electron-positioner":"^3.0.0",formbase:"^6.0.3","fs-jetpack":"^1.3.0",gawk:"^4.4.5",got:"^8.3.0",hyperapp:"^1.2.0","internal-ip":"^3.0.1","is-empty":"^1.2.0","is-ip":"^2.0.0","lock-system":"^1.3.0",lowdb:"^1.0.0",ms:"^2.1.1","node-arp":"^1.0.6",ono:"^4.0.3",rollbar:"^2.3.9","stringify-object":"^3.2.2",winston:"^2.4.1"},devDependencies:{"@oigroup/babel-preset-lightscript":"^3.1.0-alpha.2","@oigroup/lightscript-eslint":"^3.1.0-alpha.2","babel-core":"^6.26.0","babel-eslint":"^8.2.2","babel-loader":"^7.1.4","babel-plugin-transform-react-jsx":"^6.24.1","babel-register":"^6.26.0",chalk:"^2.3.2","cross-env":"^5.1.4",devtron:"^1.4.0",electron:"^1.8.4","electron-packager":"^11.2.0","electron-reload":"^1.2.2","electron-wix-msi":"^1.3.0",eslint:"=4.8.0","eslint-plugin-jsx":"0.0.2","eslint-plugin-react":"^7.7.0","eslint-watch":"^3.1.3",exeq:"^3.0.0",inquirer:"^5.2.0",nodemon:"^1.17.2","parallel-webpack":"^2.3.0",semver:"^5.5.0","sleep-ms":"^2.0.1",snyk:"^1.70.2",stylus:"^0.54.5",webpack:"^4.3.0","webpack-node-externals":"^1.6.0"},snyk:!0}},function(e,t){e.exports=require("rollbar")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rollbarLogger=t.CustomRollbarTransport=void 0;var o=a(n(9)),r=a(n(10)),i=a(n(44)),s=n(2);function a(e){return e&&e.__esModule?e:{default:e}}const u={accessToken:process.env.rollbarAccessToken,enabled:!1,captureUncaught:!0,captureUnhandledRejections:!0,environment:"production",reportLevel:"error",payload:{mainOrRenderer:"main",platform:process.platform,processVersions:process.versions,arch:process.arch,LANLostVersion:(0,s.getProperAppVersion)()},transform:e=>e.server={}},c=new i.default(u),l=r.default.transports.CustomLogger=function(e){Object.assign(this,e)};o.default.inherits(l,r.default.Transport),l.prototype.log=function(e,t="",n,o){"error"===e&&(c.error(t,n),o(null,!0))},t.CustomRollbarTransport=l,t.rollbarLogger=c},function(e,t){e.exports=require("dotenv")},function(e,t,n){"use strict";var o=r(n(4));function r(e){return e&&e.__esModule?e:{default:e}}r(n(46)).default.config({path:o.default.resolve(__dirname,"..","..","config",".env")})},function(e,t,n){"use strict";n(47);var o=n(3),r=n(1),i=(n(34),n(0)),s=n(2),a=n(15),u=n(5),c=n(32),l=n(20),d=n(14),f=n(19);o.app.makeSingleInstance(s.noop)&&o.app.quit(),o.app.once("ready",function(){var e;const{firstRun:t}=(0,i.getSettings)();t||null==(e=o.app.dock)||e.hide(),(0,a.initTrayMenu)(),(0,c.scanNetwork)(),(0,l.scheduleOUIfileUpdate)(),(0,f.checkForUpdate)(),t&&((0,i.updateSetting)("firstRun",!t),(0,u.showSettingsWindow)(),(0,d.enableRunOnStartup)(t))}),o.app.on("window-all-closed",s.noop),process.on("unhandledRejection",r.logger.error),process.on("uncaughtException",function(e){r.logger.error(e),process.exit(1)})}]);